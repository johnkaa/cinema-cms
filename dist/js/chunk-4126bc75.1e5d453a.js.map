{"version":3,"sources":["webpack:///./src/views/Admin/Films/FilmsEditor.vue?29cf","webpack:///./src/components/UI/MyButton.vue?7ddf","webpack:///./src/views/Admin/Films/FilmsEditor.vue","webpack:///./src/components/Films/FilmsEditorGallery.vue","webpack:///./src/components/Films/FilmsEditorGallery.vue?ecf2","webpack:///./src/views/Admin/Films/FilmsEditor.vue?124d","webpack:///./src/components/UI/MyCloseButton.vue","webpack:///./src/components/UI/MyCloseButton.vue?0c1a","webpack:///./node_modules/core-js/internals/create-html.js","webpack:///./node_modules/core-js/modules/es.string.link.js","webpack:///./node_modules/core-js/internals/string-html-forced.js","webpack:///./src/components/UI/MyButton.vue","webpack:///./src/components/UI/MyButton.vue?d689","webpack:///./src/components/Films/FilmsEditorGallery.vue?6206","webpack:///./src/components/UI/MyCloseButton.vue?7a31","webpack:///./node_modules/core-js/modules/es.array.slice.js"],"names":["class","for","type","setLanguage","ua","placeholder","title","description","src","img","alt","onPickFile","id","style","ref","accept","onFilePicked","deleteMainImg","gallery","item","key","path","pathID","items","updateGallery","deleteGalleryItem","addFilmGalleryItem","link","name","type3D","type2D","typeIMAX","seo","url","keywords","submit","returnBaseVersion","uploaded","onPickFileGallery","onFilePickedGallery","components","MyCloseButton","props","data","this","methods","uploadFile","toUpperCase","slice","storageRef","storage","file","getFileUrl","interval","setInterval","then","clearInterval","$refs","fileInputGallery","click","event","files","target","fileReader","FileReader","filename","indexOf","alert","addEventListener","result","readAsDataURL","addItem","setTimeout","$emit","Object","keys","length","__exports__","FilmsEditorGallery","MyButton","computed","mounted","fullPath","soon","getStateFilmsSoon","database","filmsSoonRef","snapshot","DBdata","val","uaItem","getStateFilmsNow","filmsNowRef","$router","push","fileInput","uploadFileFilmImg","getStateFilmsEditor","imgUa","getFileFilmUrl","date","Date","deleteFileFilmImg","0","render","requireObjectCoercible","toString","quot","module","exports","string","tag","attribute","value","S","p1","replace","$","createHTML","forcedStringHTMLMethod","proto","forced","fails","METHOD_NAME","test","toLowerCase","split","isArray","isConstructor","isObject","toAbsoluteIndex","toLength","toIndexedObject","createProperty","wellKnownSymbol","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","SPECIES","nativeSlice","max","Math","start","end","Constructor","n","O","k","fin","undefined","constructor","Array","prototype","call"],"mappings":"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","file":"js/chunk-4126bc75.1e5d453a.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./FilmsEditor.vue?vue&type=style&index=0&id=338bf8e1&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./MyButton.vue?vue&type=style&index=0&id=27e5dabb&lang=scss&scoped=true\"","<template>\r\n  <div class=\"films-editor\">\r\n    <div class=\"switch__wrapper\">\r\n      <div class=\"switch\">\r\n        <label class=\"switch__label\">\r\n          <input class=\"switch__checkbox\" type=\"checkbox\" @change=\"setLanguage\" v-model=\"ua\">\r\n          <span class=\"lever\"></span>\r\n        </label>\r\n      </div>\r\n    </div>\r\n    <div class=\"films-editor__name\">\r\n      <span>Название фильма</span>\r\n      <input type=\"text\" placeholder=\"Название фильма\" v-model=\"title\">\r\n    </div>\r\n    <div class=\"films-editor__description\">\r\n      <span>Описание</span>\r\n      <textarea placeholder=\"Описание\" v-model=\"description\" />\r\n    </div>\r\n    <div class=\"films-editor__main-img\">\r\n      <span>Главная картинка</span>\r\n      <img :src=\"img\" alt=\"\" @click=\"onPickFile\">\r\n      <input\r\n          id=\"inputFile\"\r\n          type=\"file\"\r\n          style=\"display: none;\"\r\n          ref=\"fileInput\"\r\n          accept=\"image/*\"\r\n          @change=\"onFilePicked\"\r\n      >\r\n      <my-button @click=\"deleteMainImg\">Удалить</my-button>\r\n    </div>\r\n    <div class=\"films-editor__gallery\">\r\n      <span>Размер: 1000х1900</span>\r\n      <films-editor-gallery\r\n          v-for=\"item in this.gallery\"\r\n          :key=\"item.id\"\r\n          :gallery=\"item\"\r\n          :path=\"this.path\"\r\n          :pathID=\"this.id\"\r\n          :items=\"this.gallery\"\r\n          @create=\"updateGallery\"\r\n          @delete=\"deleteGalleryItem\"\r\n      />\r\n      <my-button class=\"add text-success\" @click=\"addFilmGalleryItem\">+</my-button>\r\n    </div>\r\n    <div class=\"films-editor__link\">\r\n      <span>Ссылка на трейлер</span>\r\n      <input type=\"text\" placeholder=\"Ссылка на видео в youtube\" v-model=\"link\">\r\n    </div>\r\n    <div class=\"films-editor__type\">\r\n      <span>Тип кино</span>\r\n      <div class=\"films-editor__type-item\">\r\n        <input type=\"checkbox\" id=\"3d\" name=\"3d\" v-model=\"type.type3D\">\r\n        <label for=\"3d\">3D</label>\r\n      </div>\r\n      <div class=\"films-editor__type-item\">\r\n        <input type=\"checkbox\" id=\"2d\" name=\"2d\" v-model=\"type.type2D\">\r\n        <label for=\"2d\">2D</label>\r\n      </div>\r\n      <div class=\"films-editor__type-item\">\r\n        <input type=\"checkbox\" id=\"IMAX\" name=\"IMAX\" v-model=\"type.typeIMAX\">\r\n        <label for=\"IMAX\">IMAX</label>\r\n      </div>\r\n    </div>\r\n    <div class=\"films-editor__seo\">\r\n      <span>SEO блок:</span>\r\n      <form>\r\n        <div class=\"films-editor__seo-item\">\r\n          <span>URL:</span><input type=\"text\" placeholder=\"URL\" v-model=\"seo.url\">\r\n        </div>\r\n        <div class=\"films-editor__seo-item\">\r\n          <span>Title:</span><input type=\"text\" placeholder=\"Title\" v-model=\"seo.title\">\r\n        </div>\r\n        <div class=\"films-editor__seo-item\">\r\n          <span>Keywords:</span><input type=\"text\" placeholder=\"Keywords\" v-model=\"seo.keywords\">\r\n        </div>\r\n        <div class=\"films-editor__seo-item\">\r\n          <span>Description:</span><textarea placeholder=\"Description\" v-model=\"seo.description\"/>\r\n        </div>\r\n      </form>\r\n    </div>\r\n    <div class=\"films-editor__btns\">\r\n      <my-button class=\"films-editor__btns-btn\" @click=\"submit\">Сохранить</my-button>\r\n      <my-button class=\"films-editor__btns-btn\" @click=\"returnBaseVersion\">Вернуть базовую версию</my-button>\r\n    </div>\r\n    <p class=\"info text-success\" v-if=\"this.uploaded\">Изменения сохранены</p>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport MyButton from \"../../../components/UI/MyButton\";\r\nimport FilmsEditorGallery from \"../../../components/Films/FilmsEditorGallery\";\r\nimport {mapGetters, mapMutations} from \"vuex\";\r\nimport {onValue, ref, set} from \"firebase/database\";\r\nimport db from \"../../../firebase/database\";\r\n\r\nexport default {\r\n  name: \"FilmsEditor\",\r\n  components: {FilmsEditorGallery, MyButton},\r\n  computed: mapGetters(['getStateFilmsEditor', 'getStateFilmsNow', 'getStateFilmsSoon']),\r\n  mounted() {\r\n    this.fullPath = this.path[0].toUpperCase() + this.path.slice(1)\r\n    if(this.fullPath === 'Soon') {\r\n      this.soon = true\r\n      const data = this.getStateFilmsSoon.database[this.id]\r\n      if(!data) {\r\n        const filmsSoonRef = ref(db, `films/filmsSoon/${this.id}`)\r\n        return onValue(filmsSoonRef, (snapshot) => {\r\n          const DBdata = snapshot.val()\r\n          this.title = DBdata.title\r\n          this.description = DBdata.description\r\n          this.img = DBdata.img\r\n          this.gallery = DBdata.gallery\r\n          this.link = DBdata.link\r\n          this.type = DBdata.type\r\n          this.seo = DBdata.seo\r\n          this.uaItem = DBdata.ua\r\n        })\r\n      }\r\n      this.title = data.title\r\n      this.description = data.description\r\n      this.img = data.img\r\n      this.gallery = data.gallery\r\n      this.link = data.link\r\n      this.type = data.type\r\n      this.seo = data.seo\r\n      this.uaItem = data.ua\r\n    } else {\r\n      const data = this.getStateFilmsNow.database[this.id]\r\n      if(!data) {\r\n        const filmsNowRef = ref(db, `films/filmsNow/${this.id}`)\r\n        return onValue(filmsNowRef, (snapshot) => {\r\n          const DBdata = snapshot.val()\r\n          this.title = DBdata.title\r\n          this.description = DBdata.description\r\n          this.img = DBdata.img\r\n          this.gallery = DBdata.gallery\r\n          this.link = DBdata.link\r\n          this.type = DBdata.type\r\n          this.seo = DBdata.seo\r\n          this.uaItem = DBdata.ua\r\n        })\r\n      }\r\n      this.title = data.title\r\n      this.description = data.description\r\n      this.img = data.img\r\n      this.gallery = data.gallery\r\n      this.link = data.link\r\n      this.type = data.type\r\n      this.seo = data.seo\r\n      this.uaItem = data.ua\r\n    }\r\n  },\r\n  props: ['path', 'id'],\r\n  data() {\r\n    return {\r\n      title: '',\r\n      description: '',\r\n      img: '',\r\n      gallery: {},\r\n      link: '',\r\n      type: {},\r\n      seo: {},\r\n      uploaded: false,\r\n      ua: false,\r\n      uaItem: {},\r\n      soon: false,\r\n      fullPath: ''\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapMutations(['uploadFileFilmImg', 'getFileFilmUrl', 'deleteFileFilmImg']),\r\n    submit() {\r\n      if(this.ua) {\r\n        if(this.fullPath === 'Soon') {\r\n          this.getStateFilmsSoon.database[this.id].ua = {\r\n            id: this.id,\r\n            soon: this.soon,\r\n            title: this.title,\r\n            description: this.description,\r\n            img: this.img,\r\n            gallery: this.gallery,\r\n            link: this.link,\r\n            type: this.type,\r\n            seo: this.seo,\r\n          }\r\n          const data = this.getStateFilmsSoon.database[this.id]\r\n          set(ref(db, `films/films${this.fullPath}/${this.id}`), {\r\n            id: this.id,\r\n            soon: this.soon,\r\n            title: data.title,\r\n            description: data.description,\r\n            img: data.img,\r\n            gallery: data.gallery,\r\n            link: data.link,\r\n            type: data.type,\r\n            seo: data.seo,\r\n            ua: data.ua\r\n          })\r\n        } else {\r\n          this.getStateFilmsNow.database[this.id].ua = {\r\n            id: this.id,\r\n            soon: this.soon,\r\n            title: this.title,\r\n            description: this.description,\r\n            img: this.img,\r\n            gallery: this.gallery,\r\n            link: this.link,\r\n            type: this.type,\r\n            seo: this.seo,\r\n          }\r\n          const data = this.getStateFilmsNow.database[this.id]\r\n          set(ref(db, `films/films${this.fullPath}/${this.id}`), {\r\n            id: this.id,\r\n            soon: this.soon,\r\n            title: data.title,\r\n            description: data.description,\r\n            img: data.img,\r\n            gallery: data.gallery,\r\n            link: data.link,\r\n            type: data.type,\r\n            seo: data.seo,\r\n            ua: data.ua\r\n          })\r\n        }\r\n      } else {\r\n        set(ref(db, `films/films${this.fullPath}/${this.id}`), {\r\n          id: this.id,\r\n          soon: this.soon,\r\n          title: this.title,\r\n          description: this.description,\r\n          img: this.img,\r\n          gallery: this.gallery,\r\n          link: this.link,\r\n          type: this.type,\r\n          seo: this.seo,\r\n          ua: this.uaItem\r\n        })\r\n      }\r\n      this.$router.push({\r\n        path: '/admin/films'\r\n      })\r\n    },\r\n    onPickFile() {\r\n      this.$refs.fileInput.click()\r\n    },\r\n    onFilePicked(event) {\r\n      const files = event.target.files\r\n      const fileReader = new FileReader()\r\n      this.file = files[0]\r\n      this.filename = files[0].name\r\n      if (this.filename.indexOf(\".\") <= 0) {\r\n        return alert(\"Please add a valid file\");\r\n      }\r\n      fileReader.readAsDataURL(files[0])\r\n      this.uploadFileFilmImg({\r\n        path: this.fullPath,\r\n        id: this.id,\r\n        file: this.file,\r\n        ua: this.ua\r\n      })\r\n      this.getStateFilmsEditor.img = ''\r\n      this.getStateFilmsEditor.imgUa = ''\r\n      this.img = 'https://media0.giphy.com/media/3oEjI6SIIHBdRxXI40/giphy.gif?cid=ecf05e47on66p48qsf04xv9no0it5htgx7uzbpa4wx0kd1zg&rid=giphy.gif&ct=g'\r\n      const interval = setInterval(() => {\r\n        this.getFileFilmUrl({\r\n          path: this.fullPath,\r\n          id: this.id,\r\n          ua: this.ua\r\n        })\r\n        if(this.getStateFilmsEditor.img) {\r\n          clearInterval(interval)\r\n        }\r\n        if(this.ua) {\r\n          if(this.getStateFilmsEditor.imgUa) {\r\n            clearInterval(interval)\r\n          }\r\n        }\r\n      }, 250)\r\n      setTimeout(() => {\r\n        this.img = this.getStateFilmsEditor.img\r\n        if(this.ua) {\r\n          this.img = this.getStateFilmsEditor.imgUa\r\n        }\r\n      }, 1500)\r\n    },\r\n    addFilmGalleryItem() {\r\n      let date = (+new Date()-(+new Date()%100)) / 100\r\n      if(Object.keys(this.gallery).length > 4 ) {\r\n        return alert('Больше добавить нельзя')\r\n      }\r\n      this.gallery[date] = {\r\n        id: date,\r\n        img: 'https://via.placeholder.com/200',\r\n      }\r\n    },\r\n    updateGallery(gallery) {\r\n      if(this.ua) {\r\n        if (this.soon) {\r\n          this.getStateFilmsSoon.database[this.id].ua.gallery[gallery.id] = {\r\n            id: gallery.id,\r\n            img: gallery.img\r\n          }\r\n        } else {\r\n          this.getStateFilmsNow.database[this.id].ua.gallery[gallery.id] = {\r\n            id: gallery.id,\r\n            img: gallery.img\r\n          }\r\n        }\r\n      } else {\r\n        if (this.soon) {\r\n          this.getStateFilmsSoon.database[this.id].gallery[gallery.id] = {\r\n            id: gallery.id,\r\n            img: gallery.img\r\n          }\r\n        } else {\r\n          this.getStateFilmsNow.database[this.id].gallery[gallery.id] = {\r\n            id: gallery.id,\r\n            img: gallery.img\r\n          }\r\n        }\r\n      }\r\n      this.gallery[gallery.id] = {\r\n        id: gallery.id,\r\n        img: gallery.img\r\n      }\r\n    },\r\n    deleteGalleryItem(gallery){\r\n      delete this.gallery[gallery.id]\r\n    },\r\n    deleteMainImg() {\r\n      set(ref(db, `films/films${this.fullPath}/${this.id}`), {\r\n        id: this.id,\r\n        title: this.title,\r\n        description: this.description,\r\n        img: 'https://via.placeholder.com/400x400',\r\n        gallery: this.gallery,\r\n        link: this.link,\r\n        type: this.type,\r\n        seo: this.seo\r\n      })\r\n      this.deleteFileFilmImg({\r\n        path: this.fullPath,\r\n        id: this.id,\r\n      })\r\n    },\r\n    returnBaseVersion() {\r\n      this.title = 'Приключения животных'\r\n      this.description = ''\r\n      this.img = 'https://via.placeholder.com/400x400'\r\n      this.gallery = {\r\n        0: {\r\n          id: 0,\r\n          img: 'https://via.placeholder.com/250x250',\r\n        }\r\n      }\r\n      this.link = ''\r\n      this.type = {\r\n        type3D: false,\r\n        type2D: false,\r\n        typeIMAX: false\r\n      }\r\n      this.seo = {\r\n        url: '',\r\n        title: '',\r\n        description: '',\r\n        keywords: ''\r\n      }\r\n      if(this.soon) {\r\n        this.getStateFilmsSoon.database[this.id].ua = {\r\n          id: this.id,\r\n          title: 'Пригоди тварин',\r\n          description: '',\r\n          img: 'https://via.placeholder.com/400x400',\r\n          gallery: {\r\n            0: {\r\n              id: 0,\r\n              img: 'https://via.placeholder.com/250x250',\r\n            }\r\n          },\r\n          link: '',\r\n          type: {\r\n            type3D: false,\r\n            type2D: false,\r\n            typeIMAX: false\r\n          },\r\n          seo: {\r\n            url: '',\r\n            title: '',\r\n            description: '',\r\n            keywords: ''\r\n          }\r\n        }\r\n      } else {\r\n        this.getStateFilmsNow.database[this.id].ua = {\r\n          id: this.id,\r\n          title: 'Пригоди тварин',\r\n          description: '',\r\n          img: 'https://via.placeholder.com/400x400',\r\n          gallery: {\r\n            0: {\r\n              id: 0,\r\n              img: 'https://via.placeholder.com/250x250',\r\n            }\r\n          },\r\n          link: '',\r\n          type: {\r\n            type3D: false,\r\n            type2D: false,\r\n            typeIMAX: false\r\n          },\r\n          seo: {\r\n            url: '',\r\n            title: '',\r\n            description: '',\r\n            keywords: ''\r\n          }\r\n        }\r\n      }\r\n      this.deleteFileFilmImg({\r\n        path: this.fullPath,\r\n        id: this.id,\r\n        ua: this.ua\r\n      })\r\n    },\r\n    setLanguage() {\r\n      if(this.fullPath === 'Now') {\r\n        if(this.ua) {\r\n          this.getStateFilmsNow.database[this.id] = {\r\n            title: this.title,\r\n            description: this.description,\r\n            img: this.img,\r\n            gallery: this.gallery,\r\n            link: this.link,\r\n            type: this.type,\r\n            seo: this.seo,\r\n            ua: this.uaItem\r\n          }\r\n          this.title = this.uaItem.title\r\n          this.description = this.uaItem.description\r\n          this.img = this.uaItem.img\r\n          this.gallery = this.uaItem.gallery\r\n          this.link = this.uaItem.link\r\n          this.type = this.uaItem.type\r\n          this.seo = this.uaItem.seo\r\n        } else {\r\n          const data = this.getStateFilmsNow.database[this.id]\r\n          this.getStateFilmsNow.database[this.id].ua = {\r\n            id: this.id,\r\n            title: this.title,\r\n            description: this.description,\r\n            img: this.img,\r\n            gallery: this.gallery,\r\n            link: this.link,\r\n            type: this.type,\r\n            seo: this.seo,\r\n          }\r\n          this.title = data.title\r\n          this.description = data.description\r\n          this.img = data.img\r\n          this.gallery = data.gallery\r\n          this.link = data.link\r\n          this.type = data.type\r\n          this.seo = data.seo\r\n          this.uaItem = data.ua\r\n        }\r\n      } else {\r\n        if(this.ua) {\r\n          this.getStateFilmsSoon.database[this.id] = {\r\n            title: this.title,\r\n            description: this.description,\r\n            img: this.img,\r\n            gallery: this.gallery,\r\n            link: this.link,\r\n            type: this.type,\r\n            seo: this.seo,\r\n            ua: this.uaItem\r\n          }\r\n          this.title = this.uaItem.title\r\n          this.description = this.uaItem.description\r\n          this.img = this.uaItem.img\r\n          this.gallery = this.uaItem.gallery\r\n          this.link = this.uaItem.link\r\n          this.type = this.uaItem.type\r\n          this.seo = this.uaItem.seo\r\n        } else {\r\n          const data = this.getStateFilmsSoon.database[this.id]\r\n          this.getStateFilmsSoon.database[this.id].ua = {\r\n            id: this.id,\r\n            title: this.title,\r\n            description: this.description,\r\n            img: this.img,\r\n            gallery: this.gallery,\r\n            link: this.link,\r\n            type: this.type,\r\n            seo: this.seo,\r\n          }\r\n          this.title = data.title\r\n          this.description = data.description\r\n          this.img = data.img\r\n          this.gallery = data.gallery\r\n          this.link = data.link\r\n          this.type = data.type\r\n          this.seo = data.seo\r\n          this.uaItem = data.ua\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.films-editor {\r\n  padding-bottom: 50px;\r\n  &__name {\r\n    display: flex;\r\n    align-items: center;\r\n    margin-bottom: 20px;\r\n    input {\r\n      margin-left: 30px;\r\n      width: 300px;\r\n    }\r\n  }\r\n  &__description {\r\n    display: flex;\r\n    margin-bottom: 30px;\r\n    textarea {\r\n      width: 500px;\r\n      height: 200px;\r\n      margin-left: 90px;\r\n    }\r\n  }\r\n  &__main-img {\r\n    display: flex;\r\n    align-items: center;\r\n    margin-bottom: 30px;\r\n    img {\r\n      cursor: pointer;\r\n      margin: 0 40px;\r\n      max-width: 800px;\r\n      max-height: 400px;\r\n    }\r\n  }\r\n  &__gallery {\r\n    display: flex;\r\n    align-items: center;\r\n    margin-bottom: 30px;\r\n    .add {\r\n      font-weight: 700;\r\n      font-size: 50px;\r\n    }\r\n  }\r\n  &__link {\r\n    display: flex;\r\n    align-items: center;\r\n    margin-bottom: 30px;\r\n    input {\r\n      width: 300px;\r\n      margin-left: 30px;\r\n    }\r\n  }\r\n  &__type {\r\n    display: flex;\r\n    align-items: flex-start;\r\n    margin-bottom: 30px;\r\n    &-item {\r\n      margin: 0 15px;\r\n      input {\r\n        margin-right: 5px;\r\n      }\r\n    }\r\n  }\r\n  &__seo {\r\n    display: flex;\r\n    margin-bottom: 50px;\r\n    form {\r\n      display: flex;\r\n      flex-direction: column;\r\n      margin-left: 30px;\r\n    }\r\n    &-item {\r\n      display: flex;\r\n      width: 500px;\r\n      span {\r\n        min-width: 100px;\r\n        text-align: right;\r\n        margin-right: 5px;\r\n      }\r\n      input {\r\n        width: 100%;\r\n      }\r\n      textarea {\r\n        width: 100%;\r\n      }\r\n      & + & {\r\n        margin-top: 10px;\r\n      }\r\n    }\r\n  }\r\n  &__btns {\r\n    max-width: 600px;\r\n    margin: 0 auto;\r\n    position: relative;\r\n    &-btn + &-btn {\r\n      margin-left: 40px;\r\n    }\r\n  }\r\n}\r\n.switch__wrapper {\r\n  position: relative;\r\n  padding: 0 50px;\r\n  max-width: 160px;\r\n  margin-left: auto;\r\n  &::before, &::after {\r\n    position: absolute;\r\n    font-size: 25px;\r\n    top: 50%;\r\n    transform: translateY(-55%);\r\n  }\r\n  &::before {\r\n    content: 'RU';\r\n    left: 0;\r\n  }\r\n  &::after {\r\n    content: 'UA';\r\n    right: 0;\r\n  }\r\n}\r\n.switch {\r\n  position: relative;\r\n  display: inline-block;\r\n  width: 60px;\r\n  height: 34px;\r\n}\r\n.switch__checkbox {\r\n  opacity: 0;\r\n  width: 0;\r\n  height: 0;\r\n}\r\n.lever {\r\n  position: absolute;\r\n  cursor: pointer;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background-color: #42b983;\r\n  -webkit-transition: .4s;\r\n  transition: .4s;\r\n}\r\n.lever:before {\r\n  position: absolute;\r\n  content: \"\";\r\n  height: 26px;\r\n  width: 26px;\r\n  left: 4px;\r\n  bottom: 4px;\r\n  background-color: white;\r\n  -webkit-transition: .4s;\r\n  transition: .4s;\r\n}\r\n.switch__checkbox:checked + .lever {\r\n  background-color: #42b983;\r\n}\r\n.switch__checkbox:focus + .lever {\r\n  box-shadow: 0 0 1px #42b983;\r\n}\r\n.switch__checkbox:checked + .lever:before {\r\n  -webkit-transform: translateX(26px);\r\n  -ms-transform: translateX(26px);\r\n  transform: translateX(26px);\r\n}\r\n.lever {\r\n  border-radius: 34px;\r\n}\r\n.lever:before {\r\n  border-radius: 50%;\r\n}\r\n</style>","<template>\n    <div class=\"films-editor__gallery-item\">\n      <my-close-button @click=\"deleteGalleryItem\"/>\n      <img :class=\"gallery.id\" :src=\"img\" alt=\"\" @click=\"onPickFileGallery\">\n      <input\n          type=\"file\"\n          style=\"display: none;\"\n          ref=\"fileInputGallery\"\n          accept=\"image/*\"\n          @change=\"onFilePickedGallery\"\n      >\n    </div>\n</template>\n\n<script>\nimport MyCloseButton from \"../UI/MyCloseButton\";\nimport {mapMutations} from \"vuex\";\nimport {deleteObject, getDownloadURL, ref, uploadBytes} from \"firebase/storage\";\nimport storage from \"../../firebase/storage\";\n\nexport default {\n  name: \"FilmsEditorGallery\",\n  components: {MyCloseButton},\n  props: ['gallery', 'path', 'pathID', 'items'],\n  data() {\n    return {\n      img: this.gallery.img,\n    }\n  },\n  methods: {\n    ...mapMutations(['updateGalleryItem', 'deleteFilmGalleryItem']),\n    uploadFile() {\n      const path = `films/films${this.path[0].toUpperCase() + this.path.slice(1) + '/' + this.pathID}/gallery/${this.gallery.id}`\n      const storageRef = ref(storage, path)\n      uploadBytes(storageRef, this.file)\n    },\n    getFileUrl() {\n      const path = `films/films${this.path[0].toUpperCase() + this.path.slice(1) + '/' + this.pathID}/gallery/${this.gallery.id}`\n      const interval = setInterval(() => {\n        getDownloadURL(ref(storage, path))\n            .then((url) => {\n              this.img = url\n            })\n        if(this.img) {\n          clearInterval(interval)\n        }\n      }, 1000)\n    },\n    onPickFileGallery() {\n      this.$refs.fileInputGallery.click()\n    },\n    onFilePickedGallery(event) {\n      const files = event.target.files\n      const fileReader = new FileReader()\n      this.file = files[0]\n      this.filename = files[0].name\n      if (this.filename.indexOf(\".\") <= 0) {\n        return alert(\"Please add a valid file\");\n      }\n      fileReader.addEventListener('load', () => {\n        this.img = fileReader.result\n      })\n      fileReader.readAsDataURL(files[0])\n      this.uploadFile()\n      this.addItem()\n      setTimeout(() => {\n        this.$emit('create', {\n          id: this.gallery.id,\n          img: this.img\n        })\n      },1500)\n    },\n    addItem() {\n      setTimeout(() => {\n        this.getFileUrl()\n      }, 200)\n    },\n    deleteGalleryItem() {\n      if(Object.keys(this.items).length === 1 ) {\n        return alert('Должна быть хотя бы 1 картинка')\n      }\n      this.$emit('delete', {\n        id: this.gallery.id,\n      })\n      const path = `films/films${this.path[0].toUpperCase() + this.path.slice(1) + '/' + this.pathID}/gallery/${this.gallery.id}`\n      const storageRef = ref(storage, path)\n      deleteObject(storageRef)\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.films-editor__gallery-item {\n  position: relative;\n  width: 250px;\n  height: 250px;\n  margin: 0 15px;\n  cursor: pointer;\n  img {\n    width: 250px;\n    height: 250px;\n  }\n}\n</style>","import { render } from \"./FilmsEditorGallery.vue?vue&type=template&id=06821b3f&scoped=true\"\nimport script from \"./FilmsEditorGallery.vue?vue&type=script&lang=js\"\nexport * from \"./FilmsEditorGallery.vue?vue&type=script&lang=js\"\n\nimport \"./FilmsEditorGallery.vue?vue&type=style&index=0&id=06821b3f&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\main\\\\spacelab\\\\cinema-cms\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-06821b3f\"]])\n\nexport default __exports__","import { render } from \"./FilmsEditor.vue?vue&type=template&id=338bf8e1&scoped=true\"\nimport script from \"./FilmsEditor.vue?vue&type=script&lang=js\"\nexport * from \"./FilmsEditor.vue?vue&type=script&lang=js\"\n\nimport \"./FilmsEditor.vue?vue&type=style&index=0&id=338bf8e1&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\main\\\\spacelab\\\\cinema-cms\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-338bf8e1\"]])\n\nexport default __exports__","<template>\n  <button class=\"close-btn\">x</button>\n</template>\n\n<script>\nexport default {\n  name: \"MyCloseButton\"\n}\n</script>\n\n<style scoped>\n.close-btn {\n  font-weight: 700;\n  border-radius: 50%;\n  border: 2px solid #000;\n  cursor: pointer;\n  position: absolute;\n  top: 0;\n  right: 0;\n  transform: translate(50%, -50%);\n}\n</style>","import { render } from \"./MyCloseButton.vue?vue&type=template&id=7b00fafe&scoped=true\"\nimport script from \"./MyCloseButton.vue?vue&type=script&lang=js\"\nexport * from \"./MyCloseButton.vue?vue&type=script&lang=js\"\n\nimport \"./MyCloseButton.vue?vue&type=style&index=0&id=7b00fafe&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\main\\\\spacelab\\\\cinema-cms\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7b00fafe\"]])\n\nexport default __exports__","var requireObjectCoercible = require('../internals/require-object-coercible');\nvar toString = require('../internals/to-string');\n\nvar quot = /\"/g;\n\n// `CreateHTML` abstract operation\n// https://tc39.es/ecma262/#sec-createhtml\nmodule.exports = function (string, tag, attribute, value) {\n  var S = toString(requireObjectCoercible(string));\n  var p1 = '<' + tag;\n  if (attribute !== '') p1 += ' ' + attribute + '=\"' + toString(value).replace(quot, '&quot;') + '\"';\n  return p1 + '>' + S + '</' + tag + '>';\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar createHTML = require('../internals/create-html');\nvar forcedStringHTMLMethod = require('../internals/string-html-forced');\n\n// `String.prototype.link` method\n// https://tc39.es/ecma262/#sec-string.prototype.link\n$({ target: 'String', proto: true, forced: forcedStringHTMLMethod('link') }, {\n  link: function link(url) {\n    return createHTML(this, 'a', 'href', url);\n  }\n});\n","var fails = require('../internals/fails');\n\n// check the existence of a method, lowercase\n// of a tag and escaping quotes in arguments\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    var test = ''[METHOD_NAME]('\"');\n    return test !== test.toLowerCase() || test.split('\"').length > 3;\n  });\n};\n","<template>\n  <button class=\"my-btn border-button\">\n    <slot></slot>\n  </button>\n</template>\n\n<script>\nexport default {\n  name: \"MyButton\"\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.border-button {\n  text-decoration: none;\n  display: inline-block;\n  padding: 5px 10px;\n  position: relative;\n  color: #000;\n  border: 2px solid rgba(#42b983, .4);\n  background: none;\n  font-weight: 300;\n  font-family: 'Montserrat', sans-serif;\n  text-transform: uppercase;\n  letter-spacing: 2px;\n}\n\n</style>","import { render } from \"./MyButton.vue?vue&type=template&id=27e5dabb&scoped=true\"\nimport script from \"./MyButton.vue?vue&type=script&lang=js\"\nexport * from \"./MyButton.vue?vue&type=script&lang=js\"\n\nimport \"./MyButton.vue?vue&type=style&index=0&id=27e5dabb&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\main\\\\spacelab\\\\cinema-cms\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-27e5dabb\"]])\n\nexport default __exports__","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./FilmsEditorGallery.vue?vue&type=style&index=0&id=06821b3f&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./MyCloseButton.vue?vue&type=style&index=0&id=7b00fafe&scoped=true&lang=css\"","'use strict';\nvar $ = require('../internals/export');\nvar isArray = require('../internals/is-array');\nvar isConstructor = require('../internals/is-constructor');\nvar isObject = require('../internals/is-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar createProperty = require('../internals/create-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('slice');\n\nvar SPECIES = wellKnownSymbol('species');\nvar nativeSlice = [].slice;\nvar max = Math.max;\n\n// `Array.prototype.slice` method\n// https://tc39.es/ecma262/#sec-array.prototype.slice\n// fallback for not array-like ES3 strings and DOM objects\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  slice: function slice(start, end) {\n    var O = toIndexedObject(this);\n    var length = toLength(O.length);\n    var k = toAbsoluteIndex(start, length);\n    var fin = toAbsoluteIndex(end === undefined ? length : end, length);\n    // inline `ArraySpeciesCreate` for usage native `Array#slice` where it's possible\n    var Constructor, result, n;\n    if (isArray(O)) {\n      Constructor = O.constructor;\n      // cross-realm fallback\n      if (isConstructor(Constructor) && (Constructor === Array || isArray(Constructor.prototype))) {\n        Constructor = undefined;\n      } else if (isObject(Constructor)) {\n        Constructor = Constructor[SPECIES];\n        if (Constructor === null) Constructor = undefined;\n      }\n      if (Constructor === Array || Constructor === undefined) {\n        return nativeSlice.call(O, k, fin);\n      }\n    }\n    result = new (Constructor === undefined ? Array : Constructor)(max(fin - k, 0));\n    for (n = 0; k < fin; k++, n++) if (k in O) createProperty(result, n, O[k]);\n    result.length = n;\n    return result;\n  }\n});\n"],"sourceRoot":""}