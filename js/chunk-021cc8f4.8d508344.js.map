{"version":3,"sources":["webpack:///./src/views/Admin/News/NewsEdit.vue?7cfb","webpack:///./src/components/UI/MyButton.vue?5c3a","webpack:///./src/components/News/NewsEditGallery.vue?2bb1","webpack:///./src/components/UI/MyCloseButton.vue","webpack:///./src/components/UI/MyCloseButton.vue?def4","webpack:///./node_modules/core-js/internals/create-html.js","webpack:///./node_modules/core-js/modules/es.string.link.js","webpack:///./node_modules/core-js/internals/string-html-forced.js","webpack:///./src/components/UI/MyButton.vue","webpack:///./src/components/UI/MyButton.vue?7b39","webpack:///./src/components/UI/MyCloseButton.vue?5aa2","webpack:///./src/views/Admin/News/NewsEdit.vue","webpack:///./src/components/News/NewsEditGallery.vue","webpack:///./src/components/News/NewsEditGallery.vue?6c01","webpack:///./src/views/Admin/News/NewsEdit.vue?2298"],"names":["class","name","__exports__","render","requireObjectCoercible","toString","quot","module","exports","string","tag","attribute","value","S","p1","replace","$","createHTML","forcedStringHTMLMethod","target","proto","forced","link","url","this","fails","METHOD_NAME","test","toLowerCase","split","length","type","setLanguage","ua","actual","setActual","placeholder","description","src","img","alt","onPickFile","id","style","ref","accept","onFilePicked","deleteMainImg","gallery","item","key","items","updateGallery","deleteGalleryItem","addNewsGalleryItemPicked","addNewsGalleryItem","seo","title","keywords","to","submit","onPickFileGallery","onFilePickedGallery","components","MyCloseButton","props","data","methods","uploadFile","path","storageRef","storage","file","getFileUrl","interval","setInterval","then","clearInterval","$refs","fileInputGallery","click","event","files","fileReader","FileReader","filename","indexOf","alert","readAsDataURL","setTimeout","$emit","Object","keys","Date","getDate","getMonth","getFullYear","NewsEditGallery","MyButton","computed","mounted","getStateNews","database","actualValue","uaItem","newsRef","snapshot","DBdata","val","date","0","dateObj","now","fileInput","uploadFileNewsImg","getStateNewsEdit","imgUa","getDownloadNewsURL","deleteFileNewsImg"],"mappings":"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","file":"js/chunk-021cc8f4.8d508344.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./NewsEdit.vue?vue&type=style&index=0&id=fb159bdc&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./MyButton.vue?vue&type=style&index=0&id=27e5dabb&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./NewsEditGallery.vue?vue&type=style&index=0&id=16b93a53&lang=scss&scoped=true\"","<template>\n  <button class=\"close-btn\">x</button>\n</template>\n\n<script>\nexport default {\n  name: \"MyCloseButton\"\n}\n</script>\n\n<style scoped>\n.close-btn {\n  font-weight: 700;\n  border-radius: 50%;\n  border: 2px solid #000;\n  cursor: pointer;\n  position: absolute;\n  top: 0;\n  right: 0;\n  transform: translate(50%, -50%);\n}\n</style>","import { render } from \"./MyCloseButton.vue?vue&type=template&id=7b00fafe&scoped=true\"\nimport script from \"./MyCloseButton.vue?vue&type=script&lang=js\"\nexport * from \"./MyCloseButton.vue?vue&type=script&lang=js\"\n\nimport \"./MyCloseButton.vue?vue&type=style&index=0&id=7b00fafe&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\main\\\\spacelab\\\\cinema-cms\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7b00fafe\"]])\n\nexport default __exports__","var requireObjectCoercible = require('../internals/require-object-coercible');\nvar toString = require('../internals/to-string');\n\nvar quot = /\"/g;\n\n// `CreateHTML` abstract operation\n// https://tc39.es/ecma262/#sec-createhtml\nmodule.exports = function (string, tag, attribute, value) {\n  var S = toString(requireObjectCoercible(string));\n  var p1 = '<' + tag;\n  if (attribute !== '') p1 += ' ' + attribute + '=\"' + toString(value).replace(quot, '&quot;') + '\"';\n  return p1 + '>' + S + '</' + tag + '>';\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar createHTML = require('../internals/create-html');\nvar forcedStringHTMLMethod = require('../internals/string-html-forced');\n\n// `String.prototype.link` method\n// https://tc39.es/ecma262/#sec-string.prototype.link\n$({ target: 'String', proto: true, forced: forcedStringHTMLMethod('link') }, {\n  link: function link(url) {\n    return createHTML(this, 'a', 'href', url);\n  }\n});\n","var fails = require('../internals/fails');\n\n// check the existence of a method, lowercase\n// of a tag and escaping quotes in arguments\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    var test = ''[METHOD_NAME]('\"');\n    return test !== test.toLowerCase() || test.split('\"').length > 3;\n  });\n};\n","<template>\n  <button class=\"my-btn border-button\">\n    <slot></slot>\n  </button>\n</template>\n\n<script>\nexport default {\n  name: \"MyButton\"\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.border-button {\n  text-decoration: none;\n  display: inline-block;\n  padding: 5px 10px;\n  position: relative;\n  color: #000;\n  border: 2px solid rgba(#42b983, .4);\n  background: none;\n  font-weight: 300;\n  font-family: 'Montserrat', sans-serif;\n  text-transform: uppercase;\n  letter-spacing: 2px;\n}\n\n</style>","import { render } from \"./MyButton.vue?vue&type=template&id=27e5dabb&scoped=true\"\nimport script from \"./MyButton.vue?vue&type=script&lang=js\"\nexport * from \"./MyButton.vue?vue&type=script&lang=js\"\n\nimport \"./MyButton.vue?vue&type=style&index=0&id=27e5dabb&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\main\\\\spacelab\\\\cinema-cms\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-27e5dabb\"]])\n\nexport default __exports__","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./MyCloseButton.vue?vue&type=style&index=0&id=7b00fafe&scoped=true&lang=css\"","<template>\r\n  <div class=\"news-edit\">\r\n    <div class=\"switch__wrapper\">\r\n      <div class=\"switch__language\">\r\n        <label class=\"switch__label\">\r\n          <input class=\"switch__checkbox\" type=\"checkbox\" @change=\"setLanguage\" v-model=\"ua\">\r\n          <span class=\"lever\"></span>\r\n        </label>\r\n      </div>\r\n    </div>\r\n    <div class=\"switch\">\r\n      <input type=\"checkbox\" v-model=\"actual\" @change=\"setActual\">\r\n    </div>\r\n    <div class=\"news-edit__name\">\r\n      <span>Название новости</span>\r\n      <input type=\"text\" placeholder=\"Название новости\" v-model=\"name\">\r\n    </div>\r\n    <div class=\"news-edit__description\">\r\n      <span>Описание</span>\r\n      <textarea placeholder=\"Описание\" v-model=\"description\" />\r\n    </div>\r\n    <div class=\"news-edit__main-img\">\r\n      <span>Главная картинка</span>\r\n      <img :src=\"img\" alt=\"\" @click=\"onPickFile\">\r\n      <input\r\n          id=\"inputFile\"\r\n          type=\"file\"\r\n          style=\"display: none;\"\r\n          ref=\"fileInput\"\r\n          accept=\"image/*\"\r\n          @change=\"onFilePicked\"\r\n      >\r\n      <my-button @click=\"deleteMainImg\">Удалить</my-button>\r\n    </div>\r\n    <div class=\"news-edit__gallery\">\r\n      <span>Размер: 1000х1900</span>\r\n      <news-edit-gallery\r\n          v-for=\"item in this.gallery\"\r\n          :key=\"item.id\"\r\n          :gallery=\"item\"\r\n          :id=\"this.id\"\r\n          :items=\"this.gallery\"\r\n          ref=\"gallery\"\r\n          @create=\"updateGallery\"\r\n          @delete=\"deleteGalleryItem\"\r\n      />\r\n      <input class=\"add-gallery-item\"\r\n             type=\"file\"\r\n             style=\"display: none;\"\r\n             ref=\"fileInputGallery\"\r\n             accept=\"image/*\"\r\n             @change=\"addNewsGalleryItemPicked\" />\r\n      <my-button class=\"add text-success\" @click=\"addNewsGalleryItem\">+</my-button>\r\n    </div>\r\n    <div class=\"news-edit__link\">\r\n      <span>Ссылка на видео</span>\r\n      <input type=\"text\" placeholder=\"Ссылка на видео в youtube\" v-model=\"link\">\r\n    </div>\r\n    <div class=\"news-edit__seo\">\r\n      <span>SEO блок:</span>\r\n      <form>\r\n        <div class=\"news-edit__seo-item\">\r\n          <span>URL:</span><input type=\"text\" placeholder=\"URL\" v-model=\"seo.url\">\r\n        </div>\r\n        <div class=\"news-edit__seo-item\">\r\n          <span>Title:</span><input type=\"text\" placeholder=\"Title\" v-model=\"seo.title\">\r\n        </div>\r\n        <div class=\"news-edit__seo-item\">\r\n          <span>Keywords:</span><input type=\"text\" placeholder=\"Keywords\" v-model=\"seo.keywords\">\r\n        </div>\r\n        <div class=\"news-edit__seo-item\">\r\n          <span>Description:</span><textarea placeholder=\"Description\" v-model=\"seo.description\"/>\r\n        </div>\r\n      </form>\r\n    </div>\r\n    <router-link class=\"news-edit__btns\" to=\"/admin/news\">\r\n      <my-button class=\"news-edit__btns-btn\" @click=\"submit\">Сохранить</my-button>\r\n    </router-link>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport MyButton from \"../../../components/UI/MyButton\";\r\nimport {mapGetters, mapMutations} from \"vuex\";\r\nimport {onValue, ref, set} from \"firebase/database\";\r\nimport db from \"../../../firebase/database\";\r\nimport NewsEditGallery from \"../../../components/News/NewsEditGallery\";\r\n\r\nconst dateObj = new Date()\r\nconst now = dateObj.getDate() + '.' + (dateObj.getMonth() + 1) + '.' + dateObj.getFullYear()\r\n\r\nexport default {\r\n  name: \"NewsEdit\",\r\n  components: {NewsEditGallery, MyButton},\r\n  computed: mapGetters(['getStateNews', 'getStateNewsEdit']),\r\n  mounted() {\r\n    let data = this.getStateNews.database[this.id]\r\n    if(!data) {\r\n      const newsRef = ref(db, `news/${this.id}`)\r\n      onValue(newsRef, (snapshot) => {\r\n        const DBdata = snapshot.val()\r\n        if(!DBdata) {\r\n          this.getStateNews.database[this.id] = {\r\n            date: now,\r\n            actual: false,\r\n            actualValue: 'ВЫКЛ',\r\n            name: 'News',\r\n            description: '',\r\n            img: 'https://via.placeholder.com/400',\r\n            gallery: {\r\n              [(+new Date()-(+new Date()%100)) / 100]: {\r\n                id: (+new Date()-(+new Date()%100)) / 100,\r\n                img: 'https://via.placeholder.com/200'\r\n              }\r\n            },\r\n            link: '',\r\n            seo: {\r\n              url: '',\r\n              title: '',\r\n              keywords: '',\r\n              description: '',\r\n            },\r\n            ua: {\r\n              id: this.id,\r\n              date: now,\r\n              name: 'News',\r\n              description: '',\r\n              img: 'https://via.placeholder.com/400',\r\n              gallery: {\r\n                [((+new Date()-(+new Date()%100)) / 100) + 5]: {\r\n                  id: ((+new Date()-(+new Date()%100)) / 100) + 5,\r\n                  img: 'https://via.placeholder.com/200'\r\n                }\r\n              },\r\n              link: '',\r\n              seo: {\r\n                url: '',\r\n                title: '',\r\n                keywords: '',\r\n                description: '',\r\n              }\r\n            }\r\n          }\r\n          data = this.getStateNews.database[this.id]\r\n          this.actual = data.actual\r\n          this.actualValue = data.actualValue\r\n          this.name = data.name\r\n          this.description = data.description\r\n          this.img = data.img\r\n          this.gallery = data.gallery\r\n          this.link = data.link\r\n          this.seo = data.seo\r\n          this.uaItem = data.ua\r\n        } else {\r\n          this.actual = DBdata.actual\r\n          this.actualValue = DBdata.actualValue\r\n          this.name = DBdata.name\r\n          this.description = DBdata.description\r\n          this.img = DBdata.img\r\n          this.gallery = DBdata.gallery\r\n          this.link = DBdata.link\r\n          this.seo = DBdata.seo\r\n          this.uaItem = DBdata.ua\r\n        }\r\n      })\r\n    } else {\r\n      this.actual = data.actual\r\n      this.actualValue = data.actualValue\r\n      this.name = data.name\r\n      this.description = data.description\r\n      this.img = data.img\r\n      this.gallery = data.gallery\r\n      this.link = data.link\r\n      this.seo = data.seo\r\n      this.uaItem = data.ua\r\n    }\r\n  },\r\n  props: ['id'],\r\n  data() {\r\n    return {\r\n      date: now,\r\n      actual: false,\r\n      actualValue: 'ВЫКЛ',\r\n      name: 'News',\r\n      description: '',\r\n      img: 'https://via.placeholder.com/400',\r\n      gallery: {\r\n        0: {\r\n          id: 0,\r\n          img: 'https://via.placeholder.com/200'\r\n        }\r\n      },\r\n      link: '',\r\n      seo: {\r\n        url: '',\r\n        title: '',\r\n        keywords: '',\r\n        description: '',\r\n      },\r\n      ua: false,\r\n      uaItem: {}\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapMutations(['uploadFileNewsImg', 'getDownloadNewsURL', 'deleteFileNewsImg']),\r\n    submit() {\r\n      const dateObj = new Date()\r\n      const now = dateObj.getDate() + '.' + (dateObj.getMonth() + 1) + '.' + dateObj.getFullYear()\r\n      if(this.ua) {\r\n        const data = this.getStateNews.database[this.id]\r\n        this.getStateNews.database[this.id].ua = {\r\n          id: this.id,\r\n          actual: data.actual,\r\n          actualValue: data.actualValue,\r\n          name: this.name,\r\n          date: this.date,\r\n          description: this.description,\r\n          img: this.img,\r\n          gallery: this.gallery,\r\n          link: this.link,\r\n          seo: this.seo,\r\n        }\r\n      } else {\r\n        this.uaItem.actual = this.actual\r\n        this.uaItem.actualValue = this.actualValue\r\n        this.getStateNews.database[this.id] = {\r\n          actual: this.actual,\r\n          actualValue: this.actualValue,\r\n          name: this.name,\r\n          date: this.date,\r\n          description: this.description,\r\n          img: this.img,\r\n          gallery: this.gallery,\r\n          link: this.link,\r\n          seo: this.seo,\r\n          ua: this.uaItem,\r\n        }\r\n      }\r\n      const data = this.getStateNews.database[this.id]\r\n      set(ref(db, `news/${this.id}`), {\r\n        id: this.id,\r\n        date: now,\r\n        actual: data.actual,\r\n        actualValue: data.actualValue,\r\n        name: data.name,\r\n        description: data.description,\r\n        img: data.img,\r\n        gallery: data.gallery,\r\n        link: data.link,\r\n        seo: data.seo,\r\n        ua: data.ua\r\n      })\r\n    },\r\n    updateGallery(gallery) {\r\n      this.gallery[gallery.id] = {\r\n        id: gallery.id,\r\n        img: gallery.img\r\n      }\r\n    },\r\n    onPickFile() {\r\n      this.$refs.fileInput.click()\r\n    },\r\n    onFilePicked(event) {\r\n      const files = event.target.files\r\n      const fileReader = new FileReader()\r\n      this.file = files[0]\r\n      this.filename = files[0].name\r\n      if (this.filename.indexOf(\".\") <= 0) {\r\n        return alert(\"Please add a valid file\");\r\n      }\r\n      fileReader.readAsDataURL(files[0])\r\n      this.uploadFileNewsImg({\r\n        id: this.id,\r\n        file: this.file,\r\n        ua: this.ua\r\n      })\r\n      this.getStateNewsEdit.img = ''\r\n      this.getStateNewsEdit.imgUa = ''\r\n      this.img = 'https://media0.giphy.com/media/3oEjI6SIIHBdRxXI40/giphy.gif?cid=ecf05e47on66p48qsf04xv9no0it5htgx7uzbpa4wx0kd1zg&rid=giphy.gif&ct=g'\r\n      setTimeout(() => {\r\n        const interval = setInterval(() => {\r\n          this.getDownloadNewsURL({\r\n            id: this.id,\r\n            ua: this.ua\r\n          })\r\n          if(this.getStateNewsEdit.img) {\r\n            clearInterval(interval)\r\n          }\r\n          if(this.ua) {\r\n            if(this.getStateNewsEdit.imgUa) {\r\n              clearInterval(interval)\r\n            }\r\n          }\r\n        }, 250)\r\n      }, 1000)\r\n      setTimeout(() => {\r\n        if(this.ua) {\r\n          this.img = this.getStateNewsEdit.imgUa\r\n        } else {\r\n          this.img = this.getStateNewsEdit.img\r\n        }\r\n      }, 2000)\r\n    },\r\n    addNewsGalleryItem() {\r\n      if(Object.keys(this.gallery).length > 4 ) {\r\n        return alert('Больше добавить нельзя')\r\n      }\r\n      this.$refs.fileInputGallery.click()\r\n    },\r\n    addNewsGalleryItemPicked(event) {\r\n      if(Object.keys(event.target.files).length === 0) {\r\n        return\r\n      }\r\n      const date = (+new Date()-(+new Date()%100)) / 100\r\n      this.gallery[date] = {\r\n        id: date,\r\n        img: 'https://media0.giphy.com/media/3oEjI6SIIHBdRxXI40/giphy.gif?cid=ecf05e47on66p48qsf04xv9no0it5htgx7uzbpa4wx0kd1zg&rid=giphy.gif&ct=g'\r\n      }\r\n      setTimeout(() => {\r\n        this.$refs.gallery.onFilePickedGallery(event)\r\n      }, 200)\r\n    },\r\n    deleteGalleryItem(gallery) {\r\n      delete this.gallery[gallery.id]\r\n    },\r\n    deleteMainImg() {\r\n      this.img = 'https://via.placeholder.com/400'\r\n      this.deleteFileNewsImg({\r\n        id: this.id,\r\n        ua: this.ua\r\n      })\r\n    },\r\n    setActual() {\r\n      if(this.actual) {\r\n        this.actualValue = 'ВКЛ'\r\n      } else {\r\n        this.actualValue = 'ВЫКЛ'\r\n      }\r\n    },\r\n    setLanguage() {\r\n      if(this.ua) {\r\n        this.getStateNews.database[this.id] = {\r\n          actual: this.actual,\r\n          actualValue: this.actualValue,\r\n          name: this.name,\r\n          description: this.description,\r\n          img: this.img,\r\n          gallery: this.gallery,\r\n          link: this.link,\r\n          seo: this.seo,\r\n          ua: this.uaItem\r\n        }\r\n        this.name = this.uaItem.name\r\n        this.description = this.uaItem.description\r\n        this.img = this.uaItem.img\r\n        this.gallery = this.uaItem.gallery\r\n        this.link = this.uaItem.link\r\n        this.seo = this.uaItem.seo\r\n      } else {\r\n        const data = this.getStateNews.database[this.id]\r\n        this.getStateNews.database[this.id].ua = {\r\n          id: this.id,\r\n          date: now,\r\n          actual: this.actual,\r\n          actualValue: this.actualValue,\r\n          name: this.name,\r\n          description: this.description,\r\n          img: this.img,\r\n          gallery: this.gallery,\r\n          link: this.link,\r\n          seo: this.seo,\r\n        }\r\n        this.name = data.name\r\n        this.description = data.description\r\n        this.img = data.img\r\n        this.gallery = data.gallery\r\n        this.link = data.link\r\n        this.seo = data.seo\r\n        this.uaItem = data.ua\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.news-edit {\r\n  padding-bottom: 50px;\r\n  &__name {\r\n    display: flex;\r\n    align-items: center;\r\n    margin-bottom: 20px;\r\n    input {\r\n      margin-left: 30px;\r\n      width: 300px;\r\n    }\r\n  }\r\n  &__description {\r\n    display: flex;\r\n    margin-bottom: 30px;\r\n    textarea {\r\n      width: 500px;\r\n      height: 200px;\r\n      margin-left: 90px;\r\n    }\r\n  }\r\n  &__main-img {\r\n    display: flex;\r\n    align-items: center;\r\n    margin-bottom: 30px;\r\n    img {\r\n      cursor: pointer;\r\n      margin: 0 40px;\r\n      max-width: 800px;\r\n      max-height: 400px;\r\n    }\r\n  }\r\n  &__gallery {\r\n    display: flex;\r\n    align-items: center;\r\n    margin-bottom: 30px;\r\n    .add {\r\n      font-weight: 700;\r\n      font-size: 50px;\r\n    }\r\n    span {\r\n      margin-right: 13px;\r\n    }\r\n  }\r\n  &__link {\r\n    display: flex;\r\n    align-items: center;\r\n    margin-bottom: 30px;\r\n    input {\r\n      width: 300px;\r\n      margin-left: 30px;\r\n    }\r\n  }\r\n  &__type {\r\n    display: flex;\r\n    align-items: flex-start;\r\n    margin-bottom: 30px;\r\n    &-item {\r\n      margin: 0 15px;\r\n      input {\r\n        margin-right: 5px;\r\n      }\r\n    }\r\n  }\r\n  &__seo {\r\n    display: flex;\r\n    margin-bottom: 50px;\r\n    form {\r\n      display: flex;\r\n      flex-direction: column;\r\n      margin-left: 30px;\r\n    }\r\n    &-item {\r\n      display: flex;\r\n      width: 500px;\r\n      span {\r\n        min-width: 100px;\r\n        text-align: right;\r\n        margin-right: 5px;\r\n      }\r\n      input {\r\n        width: 100%;\r\n      }\r\n      textarea {\r\n        width: 100%;\r\n      }\r\n      & + & {\r\n        margin-top: 10px;\r\n      }\r\n    }\r\n  }\r\n  &__btns {\r\n    max-width: 600px;\r\n    margin: 0 auto;\r\n    position: relative;\r\n    display: block;\r\n    &-btn + &-btn {\r\n      margin-left: 40px;\r\n    }\r\n  }\r\n}\r\n.switch {\r\n  position: absolute;\r\n  right: 10px;\r\n}\r\n.switch input[type='checkbox'] {\r\n  position: relative;\r\n  width: 40px;\r\n  height: 20px;\r\n  appearance: none;\r\n  background: #c6c6c6;\r\n  border-radius: 20px;\r\n  transition: .5s;\r\n  box-shadow: inset 0 0 5px rgba(0,0,0, .2);\r\n  cursor: pointer;\r\n}\r\n.switch input:checked[type='checkbox'] {\r\n  background: #42b983;\r\n}\r\n.switch input[type='checkbox']:before {\r\n  content: '';\r\n  position: absolute;\r\n  width: 20px;\r\n  height: 20px;\r\n  border-radius: 20px;\r\n  top: 0;\r\n  left: 0;\r\n  background: #fff;\r\n  transition: .5s;\r\n  transform: scale(1.1);\r\n  box-shadow: 0 2px 5px rgba(0,0,0, .2);\r\n}\r\n.switch input:checked[type='checkbox']:before {\r\n  left: 20px;\r\n}\r\n.switch__wrapper {\r\n  position: relative;\r\n  padding: 0 50px;\r\n  max-width: 160px;\r\n  margin-left: auto;\r\n  &::before, &::after {\r\n    position: absolute;\r\n    font-size: 25px;\r\n    top: 50%;\r\n    transform: translateY(-55%);\r\n  }\r\n  &::before {\r\n    content: 'RU';\r\n    left: 0;\r\n  }\r\n  &::after {\r\n    content: 'UA';\r\n    right: 0;\r\n  }\r\n}\r\n.switch__language {\r\n  position: relative;\r\n  display: inline-block;\r\n  width: 60px;\r\n  height: 34px;\r\n}\r\n.switch__checkbox {\r\n  opacity: 0;\r\n  width: 0;\r\n  height: 0;\r\n}\r\n.lever {\r\n  position: absolute;\r\n  cursor: pointer;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background-color: #42b983;\r\n  -webkit-transition: .4s;\r\n  transition: .4s;\r\n}\r\n.lever:before {\r\n  position: absolute;\r\n  content: \"\";\r\n  height: 26px;\r\n  width: 26px;\r\n  left: 4px;\r\n  bottom: 4px;\r\n  background-color: white;\r\n  -webkit-transition: .4s;\r\n  transition: .4s;\r\n}\r\n.switch__checkbox:checked + .lever {\r\n  background-color: #42b983;\r\n}\r\n.switch__checkbox:focus + .lever {\r\n  box-shadow: 0 0 1px #42b983;\r\n}\r\n.switch__checkbox:checked + .lever:before {\r\n  -webkit-transform: translateX(26px);\r\n  -ms-transform: translateX(26px);\r\n  transform: translateX(26px);\r\n}\r\n.lever {\r\n  border-radius: 34px;\r\n}\r\n.lever:before {\r\n  border-radius: 50%;\r\n}\r\n</style>\r\n","<template>\n  <div class=\"news-edit__gallery-item\">\n    <my-close-button @click=\"deleteGalleryItem\"/>\n    <img :class=\"gallery.id\" :src=\"img\" alt=\"\" @click=\"onPickFileGallery\">\n    <input\n        type=\"file\"\n        style=\"display: none;\"\n        ref=\"fileInputGallery\"\n        accept=\"image/*\"\n        @change=\"onFilePickedGallery\"\n    >\n  </div>\n</template>\n\n<script>\nimport MyCloseButton from \"../UI/MyCloseButton\";\nimport {mapMutations} from \"vuex\";\nimport {deleteObject, getDownloadURL, ref, uploadBytes} from \"firebase/storage\";\nimport storage from \"../../firebase/storage\";\n\nexport default {\n  name: \"NewsEditGallery\",\n  components: {MyCloseButton},\n  props: ['gallery', 'id', 'items'],\n  data() {\n    return {\n      img: this.gallery.img,\n    }\n  },\n  methods: {\n    ...mapMutations(['updateNewsGalleryItem', 'deleteNewsGalleryItem']),\n    uploadFile() {\n      const path = `news/${this.id}/gallery/${this.gallery.id}`\n      const storageRef = ref(storage, path)\n      uploadBytes(storageRef, this.file)\n    },\n    getFileUrl() {\n      const path = `news/${this.id}/gallery/${this.gallery.id}`\n      const interval = setInterval(async () => {\n        await getDownloadURL(ref(storage, path))\n            .then((url) => {\n              if(url) {\n                this.img = url\n              }\n            })\n        if(this.img) {\n          clearInterval(interval)\n        }\n      }, 250)\n    },\n    onPickFileGallery() {\n      this.$refs.fileInputGallery.click()\n    },\n    onFilePickedGallery(event) {\n      const files = event.target.files\n      const fileReader = new FileReader()\n      this.file = files[0]\n      this.filename = files[0].name\n      if (this.filename.indexOf(\".\") <= 0) {\n        return alert(\"Please add a valid file\");\n      }\n      fileReader.readAsDataURL(files[0])\n      this.img = 'https://media0.giphy.com/media/3oEjI6SIIHBdRxXI40/giphy.gif?cid=ecf05e47on66p48qsf04xv9no0it5htgx7uzbpa4wx0kd1zg&rid=giphy.gif&ct=g'\n      this.uploadFile()\n      setTimeout(() => {\n        this.getFileUrl()\n      }, 1000)\n      setTimeout(() => {\n        this.$emit('create', {\n          id: this.gallery.id,\n          img: this.img\n        })\n      },2000)\n    },\n    deleteGalleryItem() {\n      if(Object.keys(this.items).length === 1 ) {\n        return alert('Должна быть хотя бы 1 картинка')\n      }\n      this.$emit('delete', {\n        id: this.gallery.id,\n      })\n      const path = `news/${this.id}/gallery/${this.gallery.id}`\n      const storageRef = ref(storage, path)\n      deleteObject(storageRef)\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.news-edit__gallery-item {\n  position: relative;\n  width: 250px;\n  height: 250px;\n  margin: 0 15px;\n  cursor: pointer;\n  img {\n    width: 250px;\n    height: 250px;\n  }\n}\n</style>\n","import { render } from \"./NewsEditGallery.vue?vue&type=template&id=16b93a53&scoped=true\"\nimport script from \"./NewsEditGallery.vue?vue&type=script&lang=js\"\nexport * from \"./NewsEditGallery.vue?vue&type=script&lang=js\"\n\nimport \"./NewsEditGallery.vue?vue&type=style&index=0&id=16b93a53&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\main\\\\spacelab\\\\cinema-cms\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-16b93a53\"]])\n\nexport default __exports__","import { render } from \"./NewsEdit.vue?vue&type=template&id=fb159bdc&scoped=true\"\nimport script from \"./NewsEdit.vue?vue&type=script&lang=js\"\nexport * from \"./NewsEdit.vue?vue&type=script&lang=js\"\n\nimport \"./NewsEdit.vue?vue&type=style&index=0&id=fb159bdc&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\main\\\\spacelab\\\\cinema-cms\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-fb159bdc\"]])\n\nexport default __exports__"],"sourceRoot":""}